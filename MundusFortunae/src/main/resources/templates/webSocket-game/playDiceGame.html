<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title th:text="${title} ?: 'ì£¼ì‚¬ìœ„ ê²Œì„'"></title>

	<!-- ê³µí†µ CSS -->
  <th:block th:replace="~{fragments/external :: bootstrap_cdn_block}"></th:block>
  <link rel="stylesheet" th:href="@{/header-footer/css/header.css}" />
  <link rel="stylesheet" th:href="@{/header-footer/css/footer.css}" />
  <link rel="stylesheet" th:href="@{/home/css/home.css}">

	<!-- ì£¼ì‚¬ìœ„ ê²Œì„ë°© css -->
	<link rel="stylesheet" th:href="@{/playDiceGame/css/playDiceGame.css}">
	
	<!-- ì£¼ì‚¬ìœ„ ê²Œì„ë°© ê²Œì„ì „ìš© ì›¹ì†Œì¼“ js -->
	<script th:href="@{/playDiceGame/js/webSocketDiceGame.js}"></script>
	<!-- ì£¼ì‚¬ìœ„ ê²Œì„ë°© ì±„íŒ…ì „ìš© ì›¹ì†Œì¼“ js -->
	<script th:href="@{/playDiceGame/js/webSocketDiceChat.js}"></script>
	
	<script th:inline="javascript">
	  const contextPath = /*[[@{/}]]*/ '';
		
	  document.addEventListener('DOMContentLoaded', () => {
			console.log('ì›¹ì†Œì¼“ ì£¼ì‚¬ìœ„ê²Œì„ ë°© í˜ì´ì§€');
			
			const roomSeq = document.getElementById("roomSeq").dataset.roomSeq;
			console.log(roomSeq + "ë²ˆ ë°©ì— ì…ì¥. ");
		});
	  
	</script>	
</head>
<body>
	<!-- ê³µí†µ í—¤ë” -->
	<div th:replace="~{fragments/header :: header}"></div>

  <div class="main-content">
    <div class="container-fluid">
      <div class="row g-3">
        <!-- ì™¼ìª½ ì˜ì—­ (ê²Œì„ + ë¡œê·¸) -->
        <div class="col-lg-8">
          <div class="d-flex flex-column left-column gap-3">
            
            <!-- ê²Œì„ UI -->
            <div class="game-card game-section p-3 p-md-4">
              <div class="d-flex flex-column h-100 justify-content-between">
                
                <!-- ìƒë‹¨: ê²Œì„ ì œëª© ë° ë¼ìš´ë“œ ì •ë³´ -->
                <div class="text-center mb-3">
                  <h4 class="fw-bold text-primary mb-2">ğŸ² ì£¼ì‚¬ìœ„ ê²Œì„</h4>
                  <div class="d-flex justify-content-center align-items-center gap-2 gap-md-3 flex-wrap">
                    <span class="badge bg-primary px-3 py-2">ë¼ìš´ë“œ: 1/5</span>
                    <span class="badge bg-success px-3 py-2">í„´: í”Œë ˆì´ì–´1</span>
                  </div>
                </div>
                
                <!-- ì¤‘ì•™: ì£¼ì‚¬ìœ„ í‘œì‹œ ì˜ì—­ -->
                <div class="d-flex justify-content-center align-items-center flex-grow-1 my-3">
                  <div class="text-center">
                    <div class="d-flex gap-3 mb-3 mb-md-4 justify-content-center">
                      <!-- ì£¼ì‚¬ìœ„ 1 -->
                      <div class="dice-display d-flex justify-content-center align-items-center">
                        <span class="dice-number">6</span>
                      </div>
                      <!-- ì£¼ì‚¬ìœ„ 2 -->
                      <div class="dice-display d-flex justify-content-center align-items-center">
                        <span class="dice-number">4</span>
                      </div>
                    </div>
                    <div class="mt-3">
                      <h5 class="fw-bold text-dark">í•©ê³„: <span class="text-danger">10</span></h5>
                    </div>
                  </div>
                </div>
                
                <!-- í•˜ë‹¨: ê²Œì„ ë²„íŠ¼ -->
                <div class="text-center">
                  <div class="d-flex justify-content-center gap-2 gap-md-3 flex-wrap">
                    <button class="btn btn-primary btn-lg px-4 px-md-5 shadow-sm">
                      <i class="bi bi-dice-5"></i> ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸°
                    </button>
                    <button class="btn btn-outline-secondary btn-lg px-3 px-md-4 shadow-sm">
                      íŒ¨ìŠ¤
                    </button>
                  </div>
                  <small class="text-muted d-block mt-2">ë‹¹ì‹ ì˜ ì°¨ë¡€ì…ë‹ˆë‹¤!</small>
                </div>
              </div>
            </div>
            
            <!-- ê²Œì„ ë¡œê·¸ -->
            <div class="game-card log-section p-3">
              <h6 class="fw-bold mb-3 text-secondary">
                <i class="bi bi-clock-history"></i> ê²Œì„ ë¡œê·¸
              </h6>
              <div class="scroll-area h-75">
                <div class="d-flex flex-column gap-2">
                  <div class="p-2 bg-light rounded log-item">
                    <span class="badge bg-info me-2">15:23</span>
                    <strong>í”Œë ˆì´ì–´1</strong>ì´(ê°€) ì£¼ì‚¬ìœ„ë¥¼ êµ´ë ¤ <strong class="text-primary">10</strong>ì´ ë‚˜ì™”ìŠµë‹ˆë‹¤.
                  </div>
                  <div class="p-2 bg-light rounded log-item">
                    <span class="badge bg-info me-2">15:22</span>
                    <strong>í”Œë ˆì´ì–´2</strong>ì´(ê°€) ì£¼ì‚¬ìœ„ë¥¼ êµ´ë ¤ <strong class="text-primary">7</strong>ì´ ë‚˜ì™”ìŠµë‹ˆë‹¤.
                  </div>
                  <div class="p-2 bg-light rounded log-item">
                    <span class="badge bg-info me-2">15:21</span>
                    <strong>í”Œë ˆì´ì–´3</strong>ì´(ê°€) í„´ì„ íŒ¨ìŠ¤í–ˆìŠµë‹ˆë‹¤.
                  </div>
                  <div class="p-2 bg-success bg-opacity-10 rounded log-item">
                    <span class="badge bg-success me-2">15:20</span>
                    ë¼ìš´ë“œ 1ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!
                  </div>
                </div>
              </div>
            </div>
            
          </div>
        </div>
        
        <!-- ì˜¤ë¥¸ìª½ ì˜ì—­ (ì°¸ì—¬ì + ì±„íŒ…) -->
        <div class="col-lg-4">
          <div class="d-flex flex-column right-column gap-3">
            
            <!-- ì°¸ì—¬ì ë¦¬ìŠ¤íŠ¸ -->
            <div class="game-card participants-section p-3">
              <h6 class="fw-bold mb-3 text-secondary">
                <i class="bi bi-people-fill"></i> <span id="roomSeq" th:data-room-seq="${roomSeq}" th:text="${roomSeq}"></span>ë²ˆë°© ì°¸ì—¬ì (3/6)
              </h6>
              <div class="scroll-area h-75">
                <div class="d-flex flex-column gap-2">
                  
                  <!-- í˜„ì¬ ì°¨ë¡€ í”Œë ˆì´ì–´ -->
                  <div class="p-2 border border-primary border-2 rounded bg-primary bg-opacity-10">
                    <div class="d-flex align-items-center justify-content-between">
                      <div class="d-flex align-items-center gap-2">
                        <div class="player-avatar bg-primary">P1</div>
                        <div>
                          <div class="fw-bold small">í”Œë ˆì´ì–´1 (ë‚˜)</div>
                          <div class="text-muted" style="font-size: 0.75rem;">ì ìˆ˜: 150</div>
                        </div>
                      </div>
                      <span class="badge bg-success">í„´</span>
                    </div>
                  </div>
                  
                  <!-- ë‹¤ë¥¸ í”Œë ˆì´ì–´ë“¤ -->
                  <div class="p-2 border rounded">
                    <div class="d-flex align-items-center gap-2" id="playerInfo">
                      <div class="player-avatar bg-secondary">P2</div>
                      <div>
                        <div class="fw-bold small">í”Œë ˆì´ì–´2</div>
                        <div class="text-muted" style="font-size: 0.75rem;">ì ìˆ˜: 120</div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="p-2 border rounded">
                    <div class="d-flex align-items-center gap-2">
                      <div class="player-avatar bg-secondary">P3</div>
                      <div>
                        <div class="fw-bold small">í”Œë ˆì´ì–´3</div>
                        <div class="text-muted" style="font-size: 0.75rem;">ì ìˆ˜: 95</div>
                      </div>
                    </div>
                  </div>
                  
                </div>
              </div>
            </div>
            
            <!-- ì±„íŒ…ì°½ -->
            <div class="game-card chat-wrapper chat-section p-3 d-flex flex-column">
              <h6 class="fw-bold mb-3 text-secondary">
                <i class="bi bi-chat-dots"></i> ì±„íŒ…
              </h6>
              <div class="flex-grow-1 mb-3 border rounded p-2 bg-light scroll-area" style="min-height: 150px;">
                <div class="d-flex flex-column gap-2">
                  <div class="chat-message">
                    <span class="badge bg-secondary me-1">í”Œë ˆì´ì–´2</span>
                    <span>ì•ˆë…•í•˜ì„¸ìš”!</span>
                  </div>
                  <div class="chat-message">
                    <span class="badge bg-primary me-1">ë‚˜</span>
                    <span>ë°˜ê°‘ìŠµë‹ˆë‹¤~</span>
                  </div>
                  <div class="chat-message">
                    <span class="badge bg-secondary me-1">í”Œë ˆì´ì–´3</span>
                    <span>ì˜ ë¶€íƒë“œë¦½ë‹ˆë‹¤ ^^</span>
                  </div>
                </div>
              </div>
              <div class="input-group">
                <input type="text" class="form-control" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                <button class="btn btn-primary" type="button">
                  <i class="bi bi-send"></i>
                </button>
              </div>
            </div>
            
            <!-- ë‚˜ê°€ê¸° ë²„íŠ¼ -->
            <div>
              <button class="btn btn-outline-danger w-100">
                <i class="bi bi-box-arrow-right"></i> ë°© ë‚˜ê°€ê¸°
              </button>
            </div>
            
          </div>
        </div>
        
      </div>
    </div>
  </div>

  
  <footer class="footer-content bg-light py-4 mt-5">
    <div class="container text-center text-muted">
      <p>&copy; 2024 MundusFortunae. All rights reserved.</p>
    </div>
  </footer>

</body>
</html>

<!-- 
ì£¼ìš” ë¶€íŠ¸ìŠ¤íŠ¸ë© í´ë˜ìŠ¤ ì •ë¦¬:

1. ë ˆì´ì•„ì›ƒ
- d-flex: flexbox ë ˆì´ì•„ì›ƒ ì‚¬ìš©
- justify-content-between: ì–‘ìª½ ë ì •ë ¬
- justify-content-center: ê°€ìš´ë° ì •ë ¬
- justify-content-around: ì•½ê°„ ì¤‘ì•™ ê· ë“± ì •ë ¬
- justify-content-evenly: ì „ì²´ì  ê· ë“± ì •ë ¬
- justify-content-start: ì™¼ìª½ ì •ë ¬
- justify-content-end: ì˜¤ë¥¸ìª½ ì •ë ¬
- align-items-center: ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬
- align-items-start: ì„¸ë¡œ ì‹œì‘ì  ì •ë ¬
- flex-grow-1: ë‚¨ì€ ê³µê°„ ëª¨ë‘ ì°¨ì§€

2. ê°„ê²©
- p-3: íŒ¨ë”© (padding) ì ìš©
- py-3: ìœ„ì•„ë˜ íŒ¨ë”©
- mb-2: ì•„ë˜ ë§ˆì§„ (margin-bottom)
- mb-4: ì•„ë˜ ë§ˆì§„ (ë” í° ê°’)
- my-5: ìœ„ì•„ë˜ ë§ˆì§„

3. í…Œë‘ë¦¬ ë° ëª¨ì–‘
- border-bottom: ì•„ë˜ í…Œë‘ë¦¬
- rounded: ë‘¥ê·¼ ëª¨ì„œë¦¬
- shadow-sm: ì‘ì€ ê·¸ë¦¼ì íš¨ê³¼

4. í…ìŠ¤íŠ¸
- fw-bold: ê¸€ì”¨ êµµê²Œ
- text-muted: íšŒìƒ‰ í…ìŠ¤íŠ¸
- text-end: ì˜¤ë¥¸ìª½ ì •ë ¬
- text-dark: ì–´ë‘ìš´ ê¸€ì”¨ìƒ‰
- small: ì‘ì€ ê¸€ì”¨

5. ìƒ‰ìƒ
- bg-primary: íŒŒë€ìƒ‰ ë°°ê²½
- bg-warning: ë…¸ë€ìƒ‰ ë°°ê²½
- notice-bg: íšŒìƒ‰ ë°°ê²½ (ì»¤ìŠ¤í…€)

6. ì»´í¬ë„ŒíŠ¸
- badge: ë°°ì§€ ìŠ¤íƒ€ì¼
- card: ì¹´ë“œ ì»¨í…Œì´ë„ˆ
- card-body: ì¹´ë“œ ë‚´ìš©
- pagination: í˜ì´ì§€ë„¤ì´ì…˜
- page-item: í˜ì´ì§€ í•­ëª©
- page-link: í˜ì´ì§€ ë§í¬
- input-group: ì…ë ¥ í•„ë“œ ê·¸ë£¹
- form-control: ì…ë ¥ í•„ë“œ
- btn: ë²„íŠ¼
- btn-outline-secondary: íšŒìƒ‰ í…Œë‘ë¦¬ ë²„íŠ¼

7. ìƒíƒœ
- active: í™œì„±í™” ìƒíƒœ
- disabled: ë¹„í™œì„±í™” ìƒíƒœ
- hover: ë§ˆìš°ìŠ¤ ì˜¤ë²„ íš¨ê³¼ (CSS)
-->

<!-- 
=====================================================
  Thymeleaf ìì£¼ ì‚¬ìš©í•˜ëŠ” ë¬¸ë²• ì •ë¦¬
=====================================================

1. ë³€ìˆ˜ í‘œí˜„ì‹
   - ${ë³€ìˆ˜ëª…} : ì¼ë°˜ ë³€ìˆ˜ ì¶œë ¥
   - ${user.name} : ê°ì²´ ì†ì„± ì ‘ê·¼
   - ${list[0]} : ë¦¬ìŠ¤íŠ¸ ì¸ë±ìŠ¤ ì ‘ê·¼
   - ${map['key']} : ë§µ ê°’ ì ‘ê·¼

2. ì„ íƒ ë³€ìˆ˜ í‘œí˜„ì‹
   - *{property} : ì„ íƒëœ ê°ì²´ì˜ ì†ì„±
   ì˜ˆ) <div th:object="${user}">
         <span th:text="*{name}"></span>
       </div>

3. URL í‘œí˜„ì‹
   - @{/path} : ì»¨í…ìŠ¤íŠ¸ ê²½ë¡œ ìë™ ì¶”ê°€
   - @{/user/{id}(id=${user.id})} : ê²½ë¡œ ë³€ìˆ˜
   - @{/search(q=${query},page=${page})} : ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°

4. ë©”ì‹œì§€ í‘œí˜„ì‹
   - #{message.key} : properties íŒŒì¼ì˜ ë©”ì‹œì§€

5. ì¡°ê±´ë¬¸
   - th:if="${condition}" : ì¡°ê±´ì´ trueì¼ ë•Œ ë Œë”ë§
   - th:unless="${condition}" : ì¡°ê±´ì´ falseì¼ ë•Œ ë Œë”ë§
   - th:switch="${value}" / th:case="ê°’" : switch ë¬¸

6. ë°˜ë³µë¬¸
   - th:each="item : ${list}" : ë¦¬ìŠ¤íŠ¸ ë°˜ë³µ
   - th:each="item, stat : ${list}" : ìƒíƒœ ë³€ìˆ˜ í¬í•¨
     * stat.index : 0ë¶€í„° ì‹œì‘í•˜ëŠ” ì¸ë±ìŠ¤
     * stat.count : 1ë¶€í„° ì‹œì‘í•˜ëŠ” ì¹´ìš´íŠ¸
     * stat.size : ì „ì²´ í¬ê¸°
     * stat.first : ì²« ë²ˆì§¸ ì—¬ë¶€
     * stat.last : ë§ˆì§€ë§‰ ì—¬ë¶€
     * stat.odd / stat.even : í™€ìˆ˜/ì§ìˆ˜ ì—¬ë¶€

7. ì†ì„± ì„¤ì •
   - th:text="${value}" : í…ìŠ¤íŠ¸ ì„¤ì • (HTML ì´ìŠ¤ì¼€ì´í”„)
   - th:utext="${value}" : HTML íƒœê·¸ í¬í•¨ í…ìŠ¤íŠ¸
   - th:href="@{/path}" : href ì†ì„± ì„¤ì •
   - th:src="@{/images/logo.png}" : src ì†ì„± ì„¤ì •
   - th:value="${value}" : value ì†ì„± ì„¤ì •
   - th:attr="data-id=${id}, data-name=${name}" : ì—¬ëŸ¬ ì†ì„± ì„¤ì •

8. í´ë˜ìŠ¤ ë° ìŠ¤íƒ€ì¼
   - th:class="${condition} ? 'active' : ''" : ì¡°ê±´ë¶€ í´ë˜ìŠ¤
   - th:classappend="${condition} ? 'active'" : í´ë˜ìŠ¤ ì¶”ê°€
   - th:style="'color:' + ${color}" : ì¸ë¼ì¸ ìŠ¤íƒ€ì¼

9. Fragment (ì¡°ê°)
   - th:fragment="ì´ë¦„" : ì¡°ê° ì •ì˜
   - th:replace="~{íŒŒì¼ëª… :: ì¡°ê°ëª…}" : ì¡°ê°ìœ¼ë¡œ ëŒ€ì²´
   - th:insert="~{íŒŒì¼ëª… :: ì¡°ê°ëª…}" : ì¡°ê° ì‚½ì…
   - th:block : ì‹¤ì œ íƒœê·¸ ì—†ì´ Thymeleaf ëª…ë ¹ë§Œ ì‚¬ìš©

10. ìœ í‹¸ë¦¬í‹° ê°ì²´
    - #temporals : ë‚ ì§œ/ì‹œê°„ í¬ë§·íŒ…
      ${#temporals.format(date, 'yyyy-MM-dd')}
    - #strings : ë¬¸ìì—´ ì²˜ë¦¬
      ${#strings.isEmpty(str)}
      ${#strings.substring(str, 0, 10)}
    - #numbers : ìˆ«ì í¬ë§·íŒ…
      ${#numbers.formatDecimal(num, 1, 2)}
    - #lists : ë¦¬ìŠ¤íŠ¸ ì²˜ë¦¬
      ${#lists.size(list)}
      ${#lists.isEmpty(list)}
    - #arrays : ë°°ì—´ ì²˜ë¦¬
    - #maps : ë§µ ì²˜ë¦¬

11. ì¡°ê±´ ì—°ì‚°ì
    - ${condition} ? 'yes' : 'no' : ì‚¼í•­ ì—°ì‚°ì
    - ${value} ?: 'default' : Elvis ì—°ì‚°ì (nullì´ë©´ ê¸°ë³¸ê°’)

12. Spring Security í†µí•©
    - sec:authorize="isAuthenticated()" : ì¸ì¦ ì—¬ë¶€
    - sec:authorize="hasRole('ADMIN')" : ê¶Œí•œ í™•ì¸
    - ${#authentication.principal.username} : ì‚¬ìš©ìëª…
    - ${#authentication.principal.authorities} : ê¶Œí•œ ëª©ë¡

13. Form ê´€ë ¨
    - th:object="${formObject}" : í¼ ê°ì²´ ë°”ì¸ë”©
    - th:field="*{ì†ì„±ëª…}" : ì…ë ¥ í•„ë“œ ë°”ì¸ë”© (id, name, value ìë™ ì„¤ì •)
    - th:errors="*{ì†ì„±ëª…}" : ìœ íš¨ì„± ê²€ì‚¬ ì˜¤ë¥˜ í‘œì‹œ

14. ì¸ë¼ì¸ í‘œí˜„ì‹
    - [[${ë³€ìˆ˜}]] : í…ìŠ¤íŠ¸ ì¸ë¼ì¸
    - [(${ë³€ìˆ˜})] : ì†ì„± ì¸ë¼ì¸
    - /*[[${ë³€ìˆ˜}]]*/ : JavaScript ì¸ë¼ì¸

15. ì£¼ì„
    - <!-- ì¼ë°˜ HTML ì£¼ì„ (ë Œë”ë§ë¨) -->
    - <!--/* Thymeleaf ì£¼ì„ (ë Œë”ë§ ì•ˆë¨) */-->
<!-- 
ì˜ˆì œ:
<div th:if="${not #lists.isEmpty(postList)}">
  <ul>
    <li th:each="post, stat : ${postList}" 
        th:class="${stat.odd} ? 'odd' : 'even'">
      <a th:href="@{/post/{id}(id=${post.id})}" 
         th:text="${post.title}">ì œëª©</a>
      <span th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd')}"></span>
    </li>
  </ul>
</div>

-->